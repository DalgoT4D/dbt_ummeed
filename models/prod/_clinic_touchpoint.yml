version: 2
models:
  - name: clinic_touchpoint
    description: Tracks clinic touchpoints.
    columns:
      - name: mrno
        data_tests:
          - not_null
        data_type: text
        description: Medical record number
      - name: primary_contact
        data_type: character varying
        description: Primary contact number of the participant
      - name: mobile_no
        data_type: text
        description: Mobile number of the registered patient
      - name: father_phone
        data_type: text
        description: Father's phone number
      - name: mother_phone
        data_type: text
        description: Mother's phone number
      - name: state_name
        data_type: character varying
        description: State name of the participant
      - name: start_date
        data_tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: date
        data_type: date
        description: Start date of the program
      - name: registered_patient_age
        data_type: numeric
        description: Age of the registered patient
      - name: registration_type
        data_type: text
        description: Type of registration
      - name: updated_date
        data_type: text
        description: Date when the record was last updated
      - name: course_name
        data_type: character varying
        description: Name of the course
      - name: course_category
        data_type: character varying
        description: Category of the course
      - name: reg_attending_program
        data_type: character varying
        description: Registered attending program
      - name: year
        data_tests:
          - not_null
        data_type: numeric
        description: Year extracted from the start date
      - name: financial_year
        data_tests:
          - not_null
          - accepted_values:
              values: [2001-2002, 2009-2010, 2010-2011, 2011-2012, 2012-2013, 2013-2014, 2014-2015, 2015-2016,
                2016-2017, 2017-2018, 2018-2019, 2019-2020, 2020-2021, 2021-2022, 2022-2023, 2023-2024,
                2024-2025, 2025-2026]
        data_type: text
        description: Calculated financial year based on start date
      - name: month
        data_tests:
          - not_null

        data_type: text
        description: Month extracted from the start date
